--- /dev/null	2015-01-09 01:36:26.900115296 +0800
+++ ./toolchain/uClibc/patches-0.9.33.2/1005-remove-duplicate-vfork.patch	2015-01-09 19:34:49.425831166 +0800
@@ -0,0 +1,183 @@
+--- a/libpthread/nptl/sysdeps/unix/sysv/linux/mips/Makefile.arch	2012-05-15 15:20:09.000000000 +0800
++++ b/libpthread/nptl/sysdeps/unix/sysv/linux/mips/Makefile.arch	2015-01-09 19:26:16.194076587 +0800
+@@ -5,7 +5,7 @@
+ # Licensed under the LGPL v2.1, see the file COPYING.LIB in this tarball.
+ #
+ 
+-libpthread_linux_arch_SSRC = pt-vfork.S clone.S
++libpthread_linux_arch_SSRC = clone.S
+ libpthread_linux_arch_CSRC = pthread_once.c pt-__syscall_rt_sigaction.c
+ 
+ libc_linux_arch_CSRC = fork.c
+@@ -21,7 +21,6 @@ CFLAGS-fork.c = -D__USE_STDIO_FUTEXES__
+ endif
+ CFLAGS-pthread_once.c = -DNOT_IN_libc -DIS_IN_libpthread
+ CFLAGS-pt-__syscall_rt_sigaction.c = -DNOT_IN_libc -DIS_IN_libpthread
+-ASFLAGS-pt-vfork.S = -DNOT_IN_libc -DIS_IN_libpthread
+ 
+ ASFLAGS-clone.S = -D_LIBC_REENTRANT
+ ASFLAGS-vfork.S = -D_LIBC_REENTRANT
+--- a/libpthread/nptl/sysdeps/unix/sysv/linux/mips/pt-vfork.S	2012-05-15 15:20:09.000000000 +0800
++++ /dev/null	2015-01-09 01:36:26.900115296 +0800
+@@ -1,38 +0,0 @@
+-/* Copyright (C) 2005 Free Software Foundation, Inc.
+-   This file is part of the GNU C Library.
+-
+-   The GNU C Library is free software; you can redistribute it and/or
+-   modify it under the terms of the GNU Lesser General Public
+-   License as published by the Free Software Foundation; either
+-   version 2.1 of the License, or (at your option) any later version.
+-
+-   The GNU C Library is distributed in the hope that it will be useful,
+-   but WITHOUT ANY WARRANTY; without even the implied warranty of
+-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+-   Lesser General Public License for more details.
+-
+-   You should have received a copy of the GNU Lesser General Public
+-   License along with the GNU C Library; if not, write to the Free
+-   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
+-   02111-1307 USA.  */
+-
+-#include <features.h>
+-#include <tls.h>
+-
+-/* Save the PID value.  */
+-#define SAVE_PID \
+-	READ_THREAD_POINTER(v1);	/* Get the thread pointer.  */	\
+-	lw	a2, PID_OFFSET(v1);	/* Load the saved PID.  */	\
+-	subu	a2, $0, a2;		/* Negate it.  */		\
+-	sw	a2, PID_OFFSET(v1);	/* Store the temporary PID.  */
+-
+-/* Restore the old PID value in the parent.  */
+-#define RESTORE_PID \
+-	beqz	v0, 1f;			/* If we are the parent... */	\
+-	READ_THREAD_POINTER(v1);	/* Get the thread pointer.  */	\
+-	lw	a2, PID_OFFSET(v1);	/* Load the saved PID.  */	\
+-	subu	a2, $0, a2;		/* Re-negate it.  */		\
+-	sw	a2, PID_OFFSET(v1);	/* Restore the PID.  */		\
+-1:
+-
+-#include <../../../../../../../libc/sysdeps/linux/mips/vfork.S>
+--- a/libpthread/nptl/sysdeps/unix/sysv/linux/powerpc/Makefile.arch	2012-05-15 15:20:09.000000000 +0800
++++ b/libpthread/nptl/sysdeps/unix/sysv/linux/powerpc/Makefile.arch	2015-01-09 19:31:57.714222180 +0800
+@@ -5,7 +5,7 @@
+ # Licensed under the LGPL v2.1, see the file COPYING.LIB in this tarball.
+ #
+ 
+-libpthread_linux_arch_SSRC = pt-vfork.S
++libpthread_linux_arch_SSRC = 
+ libpthread_linux_arch_CSRC = pthread_once.c pt-__syscall_error.c
+ 
+ libc_linux_arch_CSRC = fork.c
+@@ -19,7 +19,6 @@ ASFLAGS += -DUSE___THREAD
+ CFLAGS-pthread_once.c = -DNOT_IN_libc -DIS_IN_libpthread
+ CFLAGS-lowlevellock.c = -DNOT_IN_libc -DIS_IN_libpthread
+ CFLAGS-pt-__syscall_error.c =  -DNOT_IN_libc -DIS_IN_libpthread
+-ASFLAGS-pt-vfork.S = -DNOT_IN_libc -DIS_IN_libpthread -D_LIBC_REENTRANT
+ #ASFLAGS-lowlevellock.S = -DNOT_IN_libc -DIS_IN_libpthread -D_LIBC_REENTRANT
+ 
+ #ASFLAGS-libc-lowlevellock.S = -D_LIBC_REENTRANT
+--- a/libpthread/nptl/sysdeps/unix/sysv/linux/powerpc/powerpc32/pt-vfork.S	2012-05-15 15:20:09.000000000 +0800
++++ /dev/null	2015-01-09 01:36:26.900115296 +0800
+@@ -1,49 +0,0 @@
+-/* Copyright (C) 2004 Free Software Foundation, Inc.
+-   This file is part of the GNU C Library.
+-   Contributed by Jakub Jelinek <jakub@redhat.com>, 2004.
+-
+-   The GNU C Library is free software; you can redistribute it and/or
+-   modify it under the terms of the GNU Lesser General Public
+-   License as published by the Free Software Foundation; either
+-   version 2.1 of the License, or (at your option) any later version.
+-
+-   The GNU C Library is distributed in the hope that it will be useful,
+-   but WITHOUT ANY WARRANTY; without even the implied warranty of
+-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+-   Lesser General Public License for more details.
+-
+-   You should have received a copy of the GNU Lesser General Public
+-   License along with the GNU C Library; if not, write to the Free
+-   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
+-   02111-1307 USA.  */
+-
+-#include <sysdep.h>
+-#define _ERRNO_H	1
+-#include <bits/errno.h>
+-#include <bits/kernel-features.h>
+-#include <tcb-offsets.h>
+-
+-/* Clone the calling process, but without copying the whole address space.
+-   The calling process is suspended until the new process exits or is
+-   replaced by a call to `execve'.  Return -1 for errors, 0 to the new process,
+-   and the process ID of the new process to the old process.  */
+-
+-ENTRY (__vfork)
+-	lwz	0,PID(2)
+-	neg	0,0
+-	stw	0,PID(2)
+-
+-	DO_CALL (SYS_ify (vfork))
+-
+-	cmpwi	1,3,0
+-	beqlr-	1
+-
+-	lwz	0,PID(2)
+-	neg	0,0
+-	stw	0,PID(2)
+-
+-	PSEUDO_RET
+-
+-PSEUDO_END (__vfork)
+-
+-weak_alias (__vfork, vfork)
+--- a/libpthread/nptl/sysdeps/unix/sysv/linux/powerpc/powerpc64/pt-vfork.S	2012-05-15 15:20:09.000000000 +0800
++++ /dev/null	2015-01-09 01:36:26.900115296 +0800
+@@ -1,49 +0,0 @@
+-/* Copyright (C) 2004 Free Software Foundation, Inc.
+-   This file is part of the GNU C Library.
+-   Contributed by Jakub Jelinek <jakub@redhat.com>, 2004.
+-
+-   The GNU C Library is free software; you can redistribute it and/or
+-   modify it under the terms of the GNU Lesser General Public
+-   License as published by the Free Software Foundation; either
+-   version 2.1 of the License, or (at your option) any later version.
+-
+-   The GNU C Library is distributed in the hope that it will be useful,
+-   but WITHOUT ANY WARRANTY; without even the implied warranty of
+-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+-   Lesser General Public License for more details.
+-
+-   You should have received a copy of the GNU Lesser General Public
+-   License along with the GNU C Library; if not, write to the Free
+-   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
+-   02111-1307 USA.  */
+-
+-#include <sysdep.h>
+-#define _ERRNO_H	1
+-#include <bits/errno.h>
+-#include <bits/kernel-features.h>
+-#include <tcb-offsets.h>
+-
+-/* Clone the calling process, but without copying the whole address space.
+-   The calling process is suspended until the new process exits or is
+-   replaced by a call to `execve'.  Return -1 for errors, 0 to the new process,
+-   and the process ID of the new process to the old process.  */
+-
+-ENTRY (__vfork)
+-	lwz	0,PID(13)
+-	neg	0,0
+-	stw	0,PID(13)
+-
+-	DO_CALL (SYS_ify (vfork))
+-
+-	cmpwi	1,3,0
+-	beqlr-	1
+-
+-	lwz	0,PID(13)
+-	neg	0,0
+-	stw	0,PID(13)
+-
+-	PSEUDO_RET
+-
+-PSEUDO_END (__vfork)
+-
+-weak_alias (__vfork, vfork)
